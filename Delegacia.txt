CREATE SCHEMA DELEGACIA;
SET search_path TO Delegacia;


CREATE TABLE departamento 
(
	numdep			INT			NOT NULL,

PRIMARY KEY(numdep)
);


CREATE TABLE unidade 
(
	uninum			INT 	NOT NULL,

PRIMARY KEY (uninum)
);

CREATE TABLE oficial 
(
	pnome 			VARCHAR (15) 		NOT NULL,
	mnome			VARCHAR (30),
	unome			VARCHAR (15)		NOT NULL,
	datanasc		DATE				NOT NULL,
	sexo			CHAR(1)				NOT NULL,
	ssn				CHAR(9)				UNIQUE NOT NULL,
	email			varchar(50)			UNIQUE NOT NULL,
	telefone		char(9)				NOT NULL,
	anosprofissao	INT,
	patente			varchar(50)			NOT NULL,
	status			VARCHAR(15)			NOT NULL,
	cargahoraria	INT,
	deptopertenc	INT,

PRIMARY KEY (ssn),
FOREIGN KEY (deptopertenc) REFERENCES DEPARTAMENTO(numdep)
);


CREATE TABLE COMISSARIO (
	NUMERO_DISTINTIVO		VARCHAR(9)	UNIQUE NOT NULL,
	DEPT_DESIGNADO			INT			UNIQUE NOT NULL,

PRIMARY KEY (NUMERO_DISTINTIVO),
FOREIGN KEY (NUMERO_DISTINTIVO) REFERENCES OFICIAL (NUMERO_DISTINTIVO);
);

CREATE TABLE CAPITAO (
	NUMERO_DISTINTIVO  		VARCHAR(9) 	UNIQUE NOT NULL,
	UNIDADE_DESIGNADA		INT			UNIQUE NOT NULL,

PRIMARY KEY (NUMERO_DISTINTIVO) REFERENCES OFICIAL (NUMERO_DISTINTIVO),
FOREIGN KEY (NUMERO_DISTINTIVO) REFERENCES OFICIAL (NUMERO_DISTINTIVO);
);

CREATE TABLE SUBALTERNO (
	NUMERO_DISTINTIVO VARCHAR(9) UNIQUE NOT NULL

PRIMARY KEY
)